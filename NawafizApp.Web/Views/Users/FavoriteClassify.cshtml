
@{
    ViewBag.Title = "FavoriteClassify";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<link href="~/Content/bootstrap-select.min.css" rel="stylesheet" />
<link href="~/Content/bootstrap-select.css" rel="stylesheet" />

<style>
    .portlet.light.bordered {
        border: 0px solid !important;
    }

    select {
        background-color: #afe3e8;
        direction: rtl;
        padding-right: 30px;
        text-indent: 5px;
        text-align: center;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background: url(../../Images/arrow.png) 4% / 20% no-repeat content-box;
    }

    .third-level-menu {
        position: absolute;
        top: 0;
        right: -150px;
        width: 150px;
        list-style: none;
        padding: 0;
        margin: 0;
        display: none;
    }

        .third-level-menu > li {
            height: 30px;
            background: #999999;
        }

            .third-level-menu > li:hover {
                background: #CCCCCC;
            }

    .second-level-menu {
        position: absolute;
        top: 30px;
        left: 0;
        width: 150px;
        list-style: none;
        padding: 0;
        margin: 0;
        display: none;
    }

        .second-level-menu > li {
            position: relative;
            height: 30px;
            background: #999999;
        }

            .second-level-menu > li:hover {
                background: #CCCCCC;
            }

    .top-level-menu {
        list-style: none;
        padding: 0;
        margin: 0;
    }

        .top-level-menu > li {
            text-align: center;
            position: relative;
            float: none;
            height: 30px;
            width: 150px;
            background: #999999;
        }

            .top-level-menu > li:hover {
                background: #CCCCCC;
            }

        .top-level-menu li:hover > ul {
            /* On hover, display the next level's menu */
            display: inline;
        }


        /* Menu Link Styles */

        .top-level-menu a /* Apply to all links inside the multi-level menu */ {
            font: bold 14px Arial, Helvetica, sans-serif;
            color: #FFFFFF;
            text-decoration: none;
            padding: 0 0 0 10px;
            /* Make the link cover the entire list item-container */
            display: block;
            line-height: 30px;
        }

            .top-level-menu a:hover {
                color: #000000;
            }
</style>






<style>
    .lightBlue {
        border-color: #36c6d3;
        color: #3f444a;
        background: 0 0;
    }

        .lightBlue:hover {
            border-color: #36c6d3;
            color: #fff;
            background-color: #36c6d3;
        }

    .lightBlue2 {
        cursor: text;
        border-color: #36c6d3;
        color: #3f444a;
        background: 0 0;
    }

    .dropbtn {
        background-color: #36c6d3;
        color: white;
        padding: 7px 5px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        text-decoration: none;
    }

    .dropbtn2 {
        background-color: #36c6d3;
        color: white;
        padding: 7px 5px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        text-decoration: none;
    }

    /* Dropdown button on hover & focus */
    .dropbtn:hover, .dropbtn:focus {
        text-decoration: none;
        color: white;
        background-color: #199da9;
    }

    .dropbtn2:hover {
        text-decoration: none;
        color: white;
        background-color: #199da9;
    }
</style>

<div class="page-content" style="min-height: 1112px;background-color:white;">
    <!-- BEGIN PAGE HEADER-->
    <!-- BEGIN THEME PANEL -->
    <!-- END THEME PANEL -->
    <!-- BEGIN PAGE BAR -->
    @*<div class="page-bar" style="background-color:#364150;">
            <ul class="page-breadcrumb">
                <li>
                    <a href="index.html">Home</a>
                    <i class="fa fa-circle"></i>
                </li>
                <li>
                    <span>Dashboard</span>
                </li>
            </ul>
            <div class="page-toolbar">
                <div id="dashboard-report-range" class="pull-right tooltips btn btn-sm" data-container="body" data-placement="bottom" data-original-title="تاريخ اليوم">
                    <i class="icon-calendar"></i>&nbsp;
                    <span class="thin uppercase hidden-xs">@DateTime.Now.ToShortDateString()</span>&nbsp;
                   <i class="fa fa-angle-down"></i>
                </div>
            </div>
        </div>*@
    <!-- END PAGE BAR -->
    <!-- BEGIN PAGE TITLE-->
    <div class="page-toolbar">
        <div id="dashboard-report-range" class="pull-right tooltips btn btn-sm" data-container="body" data-placement="bottom" data-original-title="تاريخ اليوم">
            <i class="icon-calendar"></i>&nbsp;
            <span class="thin uppercase hidden-xs">@DateTime.Now.ToShortDateString()</span>&nbsp;
            <i class="fa fa-angle-down"></i>
        </div>
    </div>
    <h1 class="page-title" style="color:black;margin-top:0px;margin-bottom:0px;">
        المفضلة
        <small style="color:black;">عرض وإضافة وتعديل</small>
    </h1>
    <!-- END PAGE TITLE-->
    <!-- END PAGE HEADER-->
    <!-- BEGIN DASHBOARD STATS 1-->

    <div class="clearfix"></div>
    <div class="page-bar" style="margin-top:40px;">
        <ul class="page-breadcrumb">
            <li>
                <a href="~/Category/Index">الرئيسية</a>
                <i class="fa fa-angle-left"></i>
            </li>
            <li>
                <span>مفضلة المستخدم</span>
                

            </li>
            
        </ul>

    </div>


    @model PagedList.IPagedList<NawafizApp.Services.Dtos.ClassifySimplifyDto>
    @using PagedList.Mvc;
    <link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />



    <div class="page-content-wrapper" style="margin-right:-20px;">
        <div style="min-height:1112px;width: 103.7%;background-color:white;">
            <div style="margin-right:0px;padding:10px;text-align:center;">

                @Html.ActionLink("    إضافة إعلان الى المفضلة    ", "AddFavoriteClassify", "Users", new { @UserId = "f933abf6-bc52-40ea-a593-073be1419a02" }, new { @class = "btn btn-outline btn-circle lightBlue btn-sm fa fa-plus-square", @style = "text-decoration:none;margin-right:20px;" })

                <div class="collapse" data-toggle="collapse" id="addClassify">
                   

                </div>
                @using (Html.BeginForm("FavoriteClassify", "Home"))
            {
                    <p>

                    <p style="color:black;display:inline">نص البحث</p>
                    @Html.TextBox("SearchString", null, new { @style = "display:inline", @class = "btn btn-outline btn-circle lightBlue2 btn-sm fa fa-search" })

                    <input type="submit" style="padding:9px 7px;margin-right:5px;" value="بحث" class="btn btn-outline btn-circle lightBlue btn-sm fa fa-search" />
                    <a class="nav-link collapsed btn btn-outline btn-circle lightBlue btn-sm fa fa-search" href="#demo" data-toggle="collapse" style="margin-right:5px;" onclick="" aria-expanded="false">  بحث متقدم  </a>
                    <div id="demo" class="container collapse" aria-expanded="false" style="left: 0%; height: 0px;">
                        <div class="row slide" style="opacity: 1;margin:10px 0px;">
                            <p style="color:black;display:inline;">السعر الأدنى</p>
                            @Html.TextBox("MinPrice", null, new { @class = "btn btn-outline btn-circle lightBlue2 btn-sm fa fa-search" })
                            <p style="color:black;display:inline;">السعر الأعلى</p>
                            @Html.TextBox("MaxPrice", null, new { @class = "btn btn-outline btn-circle lightBlue2 btn-sm fa fa-search" })
                            <p style="color:black;display:inline;">أقدم تاريخ</p>
                            @Html.TextBox("PreviousDate", null, new { @class = "btn btn-outline btn-circle lightBlue2 btn-sm fa fa-search" })
                            <p style="color:black;display:inline;">أحدث تاريخ</p>
                            @Html.TextBox("LaterDate", null, new { @class = "btn btn-outline btn-circle lightBlue2 btn-sm fa fa-search" })
                            @*<p style="color:black;display:inline;">أحدث تاريخ</p>*@
                            <br />
                            @*<p style="color:black;display:inline;">حدد المحافظة</p>
                                @Html.DropDownList("CityId", (IEnumerable<SelectListItem>)ViewBag.CityList,string.Empty,new {@Value = "null",@class = "dropbtn", @style = "color:black;margin:5px;" })*@
                            @*<p style="color:black;display:inline;">حدد المنطقة</p>

                                @Html.DropDownList("TownId", (IEnumerable<SelectListItem>)ViewBag.TownList, string.Empty, new { @Value = "null", @class = "dropbtn", @style = "color:black;margin:5px;" })*@

                            <p style="color:black;display:inline;">حدد المنطقة</p>
                            <select name="TownId" id="TownId" data-size="5" class="selectpicker dropbtn" style="color:black;background-color:#afe3e8;text-align:center;">
                                <option value="" selected="selected"></option>
                                @foreach (var k in ViewBag.Citiesss)
                                {

                                    <optgroup label="محافظة @k.CityName ">
                                        @*<option id="CityId" style="font-size:larger;font-style:bold;" value="@k.Id">@k.CityName</option>*@

                                        @foreach (var j in k.TownsDto)
                                        {
                                            <option id="TownId" value="@j.Id">@j.TownName</option>
                                        }
                                    </optgroup>
                                }


                            </select>

                            <p style="color:black;display:inline;">حدد الفئة</p>
                            @Html.DropDownList("CategoryId", (IEnumerable<SelectListItem>)ViewBag.CategoryList, string.Empty, new { @Value = "null", @class = "selectpicker dropbtn", @style = "color:black;margin:5px;background-color:#afe3e8;text-align:center;" })








                            </p>

                }
            </div>
        </div>



        <div class="col-md-12" style="padding:0px;">
            <!-- BEGIN SAMPLE TABLE PORTLET-->
            <div class="portlet">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-bell-o"></i>جدول الإعلانـات
                    </div>
                    @*<div class="tools">
                            <a href="javascript:;" class="collapse" data-original-title="" title=""> </a>
                            <a href="#portlet-config" data-toggle="modal" class="config" data-original-title="" title=""> </a>
                            <a href="javascript:;" class="reload" data-original-title="" title=""> </a>
                            <a href="javascript:;" class="remove" data-original-title="" title=""> </a>
                        </div>*@
                </div>
                <div class="portlet-body">
                    <div class="table-scrollable" style="overflow-x:hidden;">
                        <table class="table table-striped table-bordered table-advance table-hover">
                            <thead>
                                <tr>
                                    <th>
                                        <i class="fa fa-briefcase"></i> @Html.ActionLink("التسلسل", "FavoriteClassify", new { @sortOrder = ViewBag.IdSortParm }, new { @class = "btn btn-outline btn-circle lightBlue btn-sm" })
                                    </th>
                                    <th class="hidden-xs">
                                        <i class="fa fa-user"></i> @Html.ActionLink("اسم الإعلان", "FavoriteClassify", new { @sortOrder = ViewBag.NameSortParm }, new { @class = "btn btn-outline btn-circle lightBlue btn-sm" })
                                    </th>
                                    <th style="padding-bottom:14px;">
                                        <i class="fa fa-bars"></i> فئة الإعلان
                                    </th>
                                    <th style="padding-bottom:14px;">
                                        <i class="fa fa-map-marker"></i> المنطقة الموجود فيها
                                    </th>
                                    <th style="padding-bottom:14px;">
                                        <i class="fa fa-star"></i> إعلان مميز
                                    </th>
                                    <th>
                                        <i class="fa fa-usd"></i> @Html.ActionLink("السعر", "FavoriteClassify", new { @sortOrder = ViewBag.PriceSortParm }, new { @class = "btn btn-outline btn-circle lightBlue btn-sm" })
                                    </th>
                                    <th>
                                        <i class="fa fa-calendar" style="margin-left:5px;"></i>@Html.ActionLink("تاريخ الإضافة", "FavoriteClassify", new { @sortOrder = ViewBag.DateSortParm }, new { @class = "btn btn-outline btn-circle lightBlue btn-sm" })
                                    </th>

                                    <th style="padding-bottom:14px;">
                                        <i class="fa fa-picture-o"></i> الصورة الرئيسية
                                    </th>

                                    <th colspan="3">
                                </tr>
                            </thead>
                            <tbody>
                                @{

                                    int index_m;

                                    if (Model.PageNumber == 1)
                                    {
                                        index_m = 0;
                                    }

                                    else
                                    {
                                        index_m = (Model.PageNumber - 1) * Model.PageSize;
                                    }
                                    if (index_m == null)
                                    {
                                        index_m = 0;
                                    }

                                    foreach (var c in ViewBag.Base)
                                    {


                                        <tr class="tr" style="height:100px;">

                                            <td class="highlight">@c.Id</td>
                                            <td class="highlight">@c.ClassifyName</td>
                                            @foreach (var gg in ViewBag.CategoryName)
                                            {
                                                if (gg.Id == c.CategoryId)
                                                {
                                                    <td class="hidden-xs">@gg.CategoryName</td>
                                                    break;
                                                }

                                            }

                                            @*<td class="td">@ViewBag.CategoryName[@index_m].CategoryName</td>*@

                                            @foreach (var gg in ViewBag.TownName)
                                            {
                                                if (gg.Id == c.TownId)
                                                {
                                                    <td class="hidden-xs">@gg.TownName</td>
                                                    break;
                                                }

                                            }


                                            @*<td class="td">@ViewBag.TownName[@index_m].TownName</td>*@
                                            <td class="hidden-xs">@c.IsFeatured</td>
                                            <td class="hidden-xs">@c.Price</td>
                                            <td class="hidden-xs">@c.Date</td>
                                            <td class="hidden-xs"><img src="@c.ImagePath" style="width:100px;height:80px;" /></td>
                                            @*@foreach (var e in c.TownsDto)
                                                {


                                                            <td class="td">@e.TownName</td>
                                                            <td>@Html.ActionLink("حذف المنطقة", "DeleteTown", "Home", new { @town = @e.Id }, new { @class = "dropbtn", @style = "text-decoration: none;" })</td>
                                                            <td >@Html.ActionLink("تعديل منطقة", "EditTown", "Home", new { @townName = @e.TownName,@id = e.Id,@cityID = c.Id }, new { @class = "dropbtn", @style = "text-decoration: none;" })</td>



                                                        }*@
                                            <td colspan="3" style="border:0px;display:inline;">
                                                @if (c.IsFeatured == false)
                                                {
                                                    @Html.ActionLink("  تحويل لمميز  ", "ToFClassify", "Home", new { @id = @c.Id }, new { @class = "btn btn-outline btn-circle red btn-sm blue fa fa-angle-double-up", @style = "text-decoration: none;margin-top:20%;" })
                                                }
                                                @if (c.IsFeatured == true)
                                                {
                                                    @Html.ActionLink("  تحويل لغير مميز  ", "ToUnFClassify", "Home", new { @id = @c.Id }, new { @class = "btn btn-outline btn-circle red btn-sm blue fa fa-angle-double-down", @style = "text-decoration: none;margin-top:20%;" })
                                                }

                                                @Html.ActionLink("   حذف   ", "DeleteClassifyFromFavorites", "Users", new { @UserId = "f933abf6-bc52-40ea-a593-073be1419a02", @id = @c.Id }, new { @class = "btn btn-outline btn-circle dark btn-sm black fa fa-trash", @style = "text-decoration: none;margin-top:20%;" })
                                                @*<td class="td">@Html.ActionLink("إضافة منطقة", "AddTown", "Home", new { @city = @c.Id }, new { @class = "dropbtn", @style = "text-decoration: none;" })</td>*@
                                                @Html.ActionLink("    التفاصيل    ", "EditClassify", "Classify", new { @ClassifyName = @c.ClassifyName, @ClassifyID = @c.Id }, new { @class = "btn btn-outline btn-circle btn-sm purple fa fa-edit", @style = "text-decoration: none;margin-top:20%;" })

                                            </td>
                                            @{ index_m++;}

                                        </tr>


                                                }

                                }



                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- END SAMPLE TABLE PORTLET-->
        </div>












        @*<table style="margin:10px 10px;font-size:17px;text-align:center;">
                <tr class="tr">
                    <td class="td">@Html.ActionLink("التسلسل", "Classified", new { @sortOrder = ViewBag.IdSortParm }, new { @class = "dropbtn2" })</td>
                    <td class="td">@Html.ActionLink("اسم الإعلان", "Classified", new { @sortOrder = ViewBag.NameSortParm }, new { @class = "dropbtn2" }) </td>
                    <td class="td">فئة الإعلان </td>

                    <td class="td">المنطقة الموجود فيها</td>
                    <td class="td">إعلان مميز </td>
                    <td class="td">@Html.ActionLink("السعر", "Classified", new { @sortOrder = ViewBag.PriceSortParm }, new { @class = "dropbtn2" }) </td>
                    <td class="td">@Html.ActionLink("تاريخ الإضافة", "Classified", new { @sortOrder = ViewBag.DateSortParm }, new { @class = "dropbtn2" }) </td>
                    <td class="td"> الصورة الرئيسية</td>



                    <td></td>
                    <td style="padding-right:5px;" class="td">خيارات الإعلان</td>
                    <td></td>



                </tr>

                @{

                    //int index_m;

                    if (Model.PageNumber == 1)
                    {
                        index_m = 0;
                    }

                    else
                    {
                        index_m = (Model.PageNumber-1) * Model.PageSize;
                    }
                    if (index_m == null)
                    {
                        index_m = 0;
                    }

                    foreach (var c in ViewBag.Base)
                    {


                        <tr class="tr" style="height:100px;">

                            <td class="td">@c.Id</td>
                            <td class="td">@c.ClassifyName</td>
                            @foreach (var gg in ViewBag.CategoryName)
                            {
                                if (gg.Id == c.CategoryId)
                                {
                                    <td class="td">@gg.CategoryName</td>
                                    break;
                                }

                            }


                            @foreach (var gg in ViewBag.TownName)
                            {
                                if (gg.Id == c.TownId)
                                {
                                    <td class="td">@gg.TownName</td>
                                    break;
                                }

                            }



                            <td>@c.IsFeatured</td>
                            <td>@c.Price</td>
                            <td>@c.Date</td>
                            <td><img src="@c.ImagePath" style="width:100px;height:100px;" /></td>

                            @if (c.IsFeatured == false)
                            {
                                <td class="td">@Html.ActionLink("  تحويل لمميز  ", "ToFClassify", "Home", new { @id = @c.Id }, new { @class = "dropbtn fa fa-angle-double-up", @style = "text-decoration: none;" })</td>
                            }
                            @if (c.IsFeatured == true)
                            {
                                <td class="td">@Html.ActionLink("  تحويل لغير مميز  ", "ToUnFClassify", "Home", new { @id = @c.Id }, new { @class = "dropbtn fa fa-angle-double-down", @style = "text-decoration: none;" })</td>
                            }

                            <td class="td">@Html.ActionLink("   حذف   ", "DeleteClassify", "Home", new { @id = @c.Id }, new { @class = "dropbtn fa fa-trash", @style = "text-decoration: none;" })</td>

                            <td class="td">@Html.ActionLink("    التفاصيل    ", "EditClassify", "Home", new { @ClassifyName = @c.ClassifyName, @ClassifyID = @c.Id }, new { @class = "dropbtn fa fa-gear", @style = "text-decoration: none;" })</td>


                            @{ index_m++;}

                        </tr>


                    }

                }
            </table>*@
    </div>



    <div style="text-align:center;">
        <h5 style="color:black;">
            Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
        </h5>
        @Html.PagedListPager(Model, Page => Url.Action("FavoriteClassify",
new { Page, SortOrder = ViewBag.CurrentSort, CurrentFilter = ViewBag.CurrentFilter, LaterDate = ViewBag.LateDate, PreviousDate = ViewBag.PreDate, MinPrice = ViewBag.MnPrice, MaxPrice = ViewBag.MxPrice, TownId = ViewBag.TownId, CityId = ViewBag.CityId, UserId = ViewBag.UserId }))
    </div>
</div>
</div>


</div>







